class MVImportService:
    __instance = None

    def __init__(self):
        if ConfigManager.__instance != None:
            raise Exception("This class is a singleton!")
        
        else:       
            ConfigManager.__instance = self
            self.config = ConfigManager()
            self.adapter = self.loadAdapter()

    def loadAdapter(self):
        adapter = None

        if self.config.name.contains("Rapid"):
            adapter = Rapid7Adapter()

        elif self.config.name.contains("Qualys"):
            adapter = QualysAdapter()
        
        else:
            adapter = BigfixSeedAdapter()

        return adapter